\begin{figure}
  \[
  \begin{array}{lrl}
    e, e' & := & v ~|~ x ~|~ e~e' \\
          & | & \xfby{v}{e} \\
          & | & \xthen{e}{e'} \\
          & | & \xrec{x}{e[x]} \\
          & | & \xlet{x}{e}{e'[x]} \\
          & | & \xcheck{e}{e'} \\
    \\
    v & := & n \in \mathbb{N} ~|~ b \in \mathbb{B} ~|~ \mlamX
    \\
    \sigma & := & \sgl{\ov{x \mapsto v}} \\
    \Sigma & := & \sigma ~|~ \Sigma;\sigma \\
      \\
    \primty & := & \mathbb{N} ~|~ \mathbb{B} \\
    \tau, \tau' & := & \primty ~|~ \hdots ~|~ \tau \to \tau' \\
    \Gamma & := & \cdot ~|~ x : \tau, \Gamma \\
    \end{array}
  \]
  \TODO{compact grammar}
  \caption{Pipit language grammar, including expressions ($e$); values and host functions embedded from the \fstar{} meta-language ($v$); stores ($\sigma$); non-empty stream histories ($\Sigma$); bounded-size types ($\primty$); unbounded types ($\tau$); and typing contexts ($\Gamma$).}
  \label{f:core-grammar}
\end{figure}