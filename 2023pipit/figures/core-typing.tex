\begin{figure}
  \[
    \boxed{\typing{\Gamma}{e}{\tau}}
    \quad
    \boxed{\mtyping{}{v}{\tau}}
  \]

  \[
    \ruleIN{
      \mtyping{}{v}{\tau}
    }{
      \typing{\Gamma}{v}{\tau}
    }{TValue}
    \quad
    \ruleAx{\typing{\Gamma}{x}{\Gamma(v)}}{TVar}
  \]

  \[
    \ruleIN{
      \typing{\Gamma}{e}{\tau \to \tau'}
      \qquad
      \typing{\Gamma}{e'}{\tau}
    }{\typing{\Gamma}{e~e'}{\tau'}}{TApp}
  \]

  \[
    \ruleIN{
      \typing{\Gamma}{v}{\primty}
      \qquad
      \typing{\Gamma}{e'}{\primty}
    }{
      \typing{\Gamma}{\xfby{v}{e'}}{\primty}
    }{TFby}
  \]

  \[
    \ruleIN{
      \typing{\Gamma}{e}{\primty}
      \qquad
      \typing{\Gamma}{e'}{\primty}
    }{\typing{\Gamma}{\xthen{e}{e'}}{\primty}}{TThen}
  \]

  \[
    \ruleIN{
      \typing{x : \primty, \Gamma}{e}{\primty}
    }{
      \typing{\Gamma}{\xrec{x}{e[x]}}{\primty}
    }{TRec}
  \]

  \[
    \ruleIN{
      \typing{\Gamma}{e}{\tau}
      \qquad
      \typing{x : \tau, \Gamma}{e'}{\tau'}
    }{
      \typing{\Gamma}{\xlet{x}{e}{e'[x]}}{\tau'}
    }{TLet}
  \]

  \[
    \ruleIN{
      \typing{\Gamma}{e}{\mathbb{B}}
      \quad
      \typing{\Gamma}{e'}{\tau'}
    }{
      \typing{\Gamma}{\xcheck{e}{e'}}{\tau'}
    }{TCheck}
  \]

  \caption{Typing rules for Pipit defined in terms of two judgment forms: $\typing{\Gamma}{e}{\tau}$ denotes that expression $e$ describes a \emph{stream} of values of type $\tau$; and $\mtyping{}{v}{\tau}$, which denotes that closed meta-value $v$ has type $\tau$ and is not defined here.}\label{f:core-typing}
\end{figure}