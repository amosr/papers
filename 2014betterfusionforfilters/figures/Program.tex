%!TEX root = ../Main.tex
\begin{figure}
\begin{tabbing}
MMMM        \= MM \= MMMMMMMMM \= \kill
$scalar$    \> $\to$ \> (scalar variable) \\
$array$     \> $\to$ \> (array variable)  \\
$f$         \> $\to$ \> (worker function) \\
$fun$       \> $\to$ \> $f~scalar\ldots$
\\[2ex]
$bind$      \> @::=@ \> $scalar$ \> $=~sbind$ \\
            \> $~|$  \> $array$  \> $=~abind$ \\
            \> $~|$  \> $scalar\ldots,array\ldots$ \> $=~@external@~scalar\ldots~array\ldots$
\end{tabbing}

\begin{tabbing}
MMMM        \= MM \= MMMMM \= MMMMMM \= M \= MMMM \= MMMMMM \= \kill
$sbind$     \> @::=@ \> $@fold@$     \> $fun~~ array$
\\[1ex]

$abind$     \> @::=@ \> $@map@_n$    \> $fun~~ array^n$ 
            \> $~|$  \> $@filter@$   \> $fun~~ array$   \\
            \> $~|$  \> $@generate@$ \> $scalar~~ fun$  
            \> $~|$  \> $@gather@$   \> $array~~ array$ \\
            \> $~|$  \> $@cross@$    \> $array~~ array$
\\[1ex]
$function$  \> @::=@ \> $\lambda scalar\ldots~array\ldots~\to$ \\
            \>          \> $@let@~bind\ldots$                  \\
            \>          \> $@in@~(scalar\ldots,~array\ldots)$
\\[3ex]
$@fold@$     \> $:~ (a \to a \to a) \to @Array@~~ a \to a$     \\
$@map@_n$    \> $:~ (\{a_i          \to\}^{\;i\; \gets 1 \dots n}~~ b)  \to
                       \{@Array@~~ a_i \to\}^{\;i\; \gets 1 \dots n}~~ @Array@~~ b$ \\
$@filter@$   \> $:~ (a \to @Bool@) \to @Array@~~ a \to @Array@~~ a$      \\
$@generate@$ \> ~~ $:~ @Nat@ \to (@Nat@ \to a) \to @Array@~~ a$          \\
$@gather@$   \> ~~ $:~ @Array@~~ a \to @Array@~~ @Nat@  \to @Array@~~ a$ \\
$@cross@$    \> ~~ $:~ @Array@~~ a \to @Array@~~ b ~~~~ \to @Array@~~ (a, b)$
\end{tabbing}
\caption{Combinator normal form}
\label{f:CombinatorNormalForm}
\end{figure}

