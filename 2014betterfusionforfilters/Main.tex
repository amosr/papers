\documentclass[preprint]{sigplanconf}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{mathptmx}
\usepackage{stmaryrd}
\usepackage{hyperref}
\usepackage{alltt}
\usepackage{url}
\usepackage{float}
\usepackage{style/utils}
\usepackage{style/code}
\usepackage{style/proof}
\usepackage{style/judgements}

% -----------------------------------------------------------------------------
\begin{document}

\title{Fusing Filters with Integer Linear Programming}
% Better title?
% \title{Better fusion for filters}

\authorinfo{ 
  Amos Robinson$^\dagger$ 
  \and Ben Lippmeier$^\dagger$
  \and Manuel M. T. Chakravarty$^\dagger$
  \and Gabriele Keller$^\dagger$ 
}{
  \vspace{5pt}
  \shortstack{
    $^\dagger$Computer Science and Engineering \\
    University of New South Wales, Australia \\[2pt]
    \textsf{\{amosr,benl,chak,keller\}@cse.unsw.edu.au}
  }
}

\maketitle
\makeatactive

\begin{abstract}
Minimising memory traffic is key to compiling functional, collection oriented array programs into efficient code. To achieve this, it is not sufficient to just fuse subsequent array operations into a single, more complex computation, we also have to also \emph{cluster} separate traversals of the same array into one single loop. Previous work demonstrated how Integer Linear Programming (ILP) can be used to cluster the operators in a general data-flow graph into subgraphs, which can be individually fused. However, these approaches have one serious restrictions: they can only handle operations which preserve the size of the array. The technique we present in this paper extends the ILP approach with support for size-changing operations, using an external ILP server to find good clusterings.

%The original abstract:
%Recent work on array fusion shows how to extract data-flow graphs from functional programs and compile them into efficient imperative loops. However, the compilation process only handles graphs that can be compiled into \emph{single} loops, and most programs require more. Prior work shows how use Integer Linear Programming (ILP) to \emph{cluster} the operators in a general data-flow graph into subgraphs that can be individually fused, but until now this approach did not handle operations like filter, which produce arrays of a different size than their input. We extend the existing ILP approach with support for size changing operators, using an external ILP solver to find good clusterings.
\end{abstract}


\category
	{D.3.3}
	{Programming Languages}
	{Language Constructs and Features---Concurrent programming structures; Control structures; Abstract data types}

\terms
	Languages, Performance

\keywords
	Arrays, Fusion, Haskell

\input{section/01-Introduction.tex}
\input{section/02-CNF.tex}
\input{section/03-SizeInference.tex}
\input{section/04-ILP.tex}
\input{section/05-Benchmarks.tex}
\input{section/06-Related.tex}
\section{Conclusion}

\section*{Acknowledgements}
Many thanks are due to
Robert Clifton-Everest,
Kai Engelhardt,
Bill Kroon,
Frederik Madsen,
Abdallah Saffidine,
Carter Schonwald,
and Jingling Xue
for enlightening discussions relating to this work.

\bibliographystyle{plain}
\bibliography{Main}

\end{document}


