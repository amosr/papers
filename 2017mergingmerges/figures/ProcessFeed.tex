%!TEX root = ../Main.tex

\begin{figure}

% ---------------------------------------------------------
$$
  \boxed{\ProcsShake{\sgl{\Proc}}{\Action}{\sgl{\Proc}}}
$$
$$
\ruleIN{
  \ProcShake{p_i}{\cdot}{p'_i}
}{
  \ProcsShake{
    \sgl{p_0 \ldots p_i \ldots p_n}
  }{\cdot}{
    \sgl{p_0 \ldots p'_i \ldots p_n}
  }
}{ProcessesInternal}
$$

$$
\ruleIN{
  \ProcShake{p_i}{\Push~c~v}{p'_i}
  \quad
  \forall j~|~j \neq i.~
  \ProcInject{p_j}{c}{v}{p'_j}
}{
  \ProcsShake{
    \sgl{p_0 \ldots p_i \ldots p_n}
  }{\Push~c~v}{
    \sgl{p'_0 \ldots p'_i \ldots p'_n}
  }
}{ProcessesPush}
$$


% ---------------------------------------------------------
\vspace{2em}
$$
  \boxed{
    \ProcsFeed
      {\MapType{\Chan}{[\Value]}}
      {\sgl{\Proc}}
      {\MapType{\Chan}{[\Value]}}
      {\sgl{\Proc}}
  }
$$

\newcommand\vs {\ti{vs}}
\newcommand\accs {\ti{accs}}
\newcommand\network {\ti{ps}}

$$
\ruleIN{
  \forall c \in \accs.~
  \accs~c~=~[]
}{
  \ProcsFeed
    {\accs}
    {\network}
    {\accs}
    {\network}
}{FeedStart}
%
\ruleIN{
  \ProcsFeed
    {\accs}
    {\network}
    {\accs'}
    {\network'}
\quad
  \ProcsShake
    {\network'}
    {\tau}
    {\network''}
}{
  \ProcsFeed
    {\accs}
    {\network}
    {\accs'}
    {\network''}
}{FeedInternal}
$$

$$
\ruleIN{
  \ProcsFeed
    {\accs}
    {\network}
    {\accs'}
    {\network'}
\quad
  \ProcsShake
    {\network'}
    {\Push~c~v}
    {\network''}
}{
  \ProcsFeed
    {\accs}
    {\network}
    {c=\accs'~c \listappend [v], \accs'}
    {\network''}
}{FeedPush}
$$

$$
\ruleIN{
  (\forall p \in \network.~c \not\in @outs@~p)
\quad
  \ProcsFeed
    {c=\vs, \accs}
    {\network}
    {\accs'}
    {\network'}
\quad
  \ProcsInject
    {\network'}
    {c}{v}
    {\network''}
}{
  \ProcsFeed
    {c=\vs \listappend [v], \accs}
    {\network}
    {c=\vs \listappend [v], \accs'}
    {\network''}
}{FeedExternal}
$$



\caption{Feeding Process Networks}
\label{fig:Process:Eval:Feed}
\end{figure}

