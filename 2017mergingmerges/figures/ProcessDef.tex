%!TEX root = ../Main.tex

\begin{figure}
\begin{minipage}[t]{0.4\textwidth}
\begin{tabbing}
\Instr \TABDEF @MMMM@  \TABSKIP $\Exp$ \TABSKIP $\Exp$ \TABSKIP $\Exp$ \kill

\Exp,~$e$ \> $\to$ \> $x~|~v~|~e~e $ \\
  \> $\enskip|~$ \> $ (e~@||@~e) ~|~ e+e ~|~ e~@/=@~e ~|~ e < e$ \\
\Value,~$v$ \> $\to$ \> $\mathbb{N}~|~\mathbb{B}~|~(\lambda{}x.~e)$ \\
$\Sigma$ \> $\to$ \> $\cdot~|~\Sigma,~x~=~v$ \\
\\

\Proc \>:=\> @process@ \\
M \= M \= \kill
\> \> @ins:   @  $\MapType{\Chan}{\InputState}$ \\
\> \> @outs:  @  $\sgl{\Chan}$ \\
\> \> @heap:  @  $\Sigma$ \\
\> \> @label: @  \Label \\
\> \> @instrs:@  $\MapType{Label}{\Instr}$ \\
\\
\Instr \TABDEF \kill
\InputState \> := \> @pending@~\Value~$|$~@have@~$|$~@none@

\end{tabbing}
\end{minipage}
\begin{minipage}[t]{0.05\textwidth}
\quad
\end{minipage}
\begin{minipage}[t]{0.4\textwidth}
\begin{tabbing}
\Instr \TABDEF @MMMM@  \TABSKIP $\Chan$ \TABSKIP $\Chan$ \TABSKIP $\Exp$ \kill

\Var,~$x$ \> $\to$ \> (value variable) \\
\Chan,~$c$ \> $\to$ \> (channel/stream name) \\
\Label,~$l$ \> $\to$ \> (label name) \\
\\
\\

\Instr
    \> :=\> @pull@  \> \Chan  \> \Var  \> \Next \\
    \TABALT @drop@  \> \Chan  \>       \> \Next \\
    \TABALT @push@  \> \Chan  \> \Exp  \> \Next \\
    \TABALT @case@  \> \Exp   \> \Next \> \Next \\
    \TABALT @jump@  \>        \>       \> \Next \\
\\
\\
\Next \> := \> $\Label~\times~\MapType{\Var}{\Exp}$ \\
\end{tabbing}
\end{minipage}

\caption{Grammar and types for defining processes. Each process is a sequential stream computation, networks of which are evaluated concurrently with a single-element bounded buffer for each stream.}
\label{fig:Process:Def}
\end{figure}


