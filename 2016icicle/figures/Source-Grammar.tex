%!TEX root = ../Main.tex

\begin{figure}

\begin{tabbing}
MMMM \= M \= MMMMMMMMMMM \= \kill
$\tau$          \> $=$  \> $\NN~|~\BB$ \\
\\
$\mi{Table}$    \> $=$  \> $@table@~n~\{n~:~\tau*\}$ \\
\\
$\mi{Exp}$
    \> $=$  \> $n$          \\
    \> $~|$ \> $\mi{Prim}$     \\
    \> $~|$ \> $(\mi{Prim}~|~n)$     \> $([\mi{Clock}]~|~\mi{Exp})+$ \\
\\
    \> $~|$ \> $@let@~n~@=@~\mi{Exp}$
            \> $@in@~\mi{Exp}$ \\
                \\
    \> $~|$ \> $@fold@[\mi{Clock}]$ \\
    \>      \> $n~@=@~\mi{Exp}~@then@~\mi{Exp}$
            \> $@in@~\mi{Exp}$ \\
\\
$\mi{Prim}$
    \> $=$  \> $@+@~|~@>@~|~\NN$ \\
\\
$\mi{Clock}$
    \> $=$  \> $n$          \\
    \> $~|$ \> $\mi{Clock}~@where@~\mi{Exp}$          \\
\\
$\mi{Def}$
    \> $=$  \> $@function@~n~([n]*)~(n*)~=~\mi{Exp}$.          \\
    \> $~|$ \> $@query@~n~[n]~=~\mi{Exp}$.          \\
\\
$\mi{Program}$
    \> $=$  \> $\mi{Table}~\mi{Def}*$ \\
\end{tabbing}


\caption{Grammar for Icicle Source}
\label{fig:source:grammar}
\end{figure}

