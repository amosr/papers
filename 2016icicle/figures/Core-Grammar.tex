%!TEX root = ../Main.tex

\begin{figure}

\begin{tabbing}
MMMM \= M \= M \= \kill
$\mit{CoreExp}$
    \> $=$  \> $n$          \\
    \> $~|$ \> $v$ \\
    \> $~|$ \> $\mit{CorePrim}~(n*)$ \\
\\
$\mit{CorePrim}$
    \> $=$  \> $@+@~|~@>@~|~@if@$ \\
\\
$\mit{FoldInit}$
    \> $=$  \> $\mit{CoreExp}$ \\
$\mit{FoldAcc}$
    \> $=$  \> $(n~=~\mit{CoreExp})*~\mit{CoreExp}$ \\
\\
$\mit{Fold}$
    \> $=$  \> $@Fold@~\mit{FoldInit}~\mit{FoldAcc}$ \\
\\
\\
$\mit{Program}$
    \> $=$  \> @Befores@ \\
    \>      \> \> $(n~=~\mit{CoreExp})*$ \\
    \>      \> @Streams@ \\
    \>      \> \> $(n~=~\mit{CoreExp})*$ \\
    \>      \> @Folds@ \\
    \>      \> \> $(n~=~\mit{Fold})*$ \\
    \>      \> @Extracts@ \\
    \>      \> \> $(n~=~\mit{CoreExp})*$ \\
    \>      \> @Outputs@ \\
    \>      \> \> $(n~=~n)*$ \\
\end{tabbing}


\caption{Grammar for Icicle Core}
\label{fig:core:grammar}
\end{figure}

